# K≈çan Configuration

# Paths
project_path: "/path/to/anantys-back"  # Target project to analyze
pilot_repo: "/path/to/koan"            # This repo

# Budget & Scheduling
max_runs_per_day: 20
interval_seconds: 300  # 5 minutes between runs

# Telegram
telegram:
  bot_token: "YOUR_BOT_TOKEN"  # From @BotFather
  chat_id: "YOUR_CHAT_ID"     # From first message to bot

# Usage thresholds
budget:
  warn_at_percent: 70   # Send warning via Telegram
  stop_at_percent: 85   # Stop running

# Claude tools configuration
# These tools will be available when Claude is invoked for chat responses
tools:
  allowed: ["Read", "Glob", "Grep", "Edit", "Write", "Bash"]
  description: |
    Available capabilities:
    - File operations: Read, Edit, Write files in the project
    - Search: Glob (find files), Grep (search content)
    - Shell: Bash (run git, gh, make, and other commands)

# Git auto-merge configuration
# Automatically merges koan/* branches based on rules
git_auto_merge:
  enabled: false                    # Global on/off switch
  base_branch: "main"               # Default target branch for merges
  strategy: "squash"                # merge | squash | rebase
  rules:
    - pattern: "koan/*"             # Branch name pattern (glob-style)
      auto_merge: true              # Enable auto-merge for matching branches
      delete_after_merge: true      # Clean up branch after successful merge

# Per-project overrides
# Override git_auto_merge settings for specific projects
projects:
  mysafeproject:
    git_auto_merge:
      enabled: true
      base_branch: "main"
      strategy: "squash"
